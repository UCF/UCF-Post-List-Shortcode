!function(i){i.fn.UCFPostListSearch=function(t){var e=i.extend({localdata:[],classnames:{},limit:5,templates:{}},t),t=new Bloodhound({datumTokenizer:function(t){for(var e=[],a=0;a<t.matches.length;a++)e=e.concat(Bloodhound.tokenizers.whitespace(t.matches[a]));return e},queryTokenizer:Bloodhound.tokenizers.whitespace,local:e.localdata});return this.typeahead({hint:!1,highlight:!0,minLength:2,classNames:e.classnames},{source:t,limit:e.limit,displayKey:function(t){return t.display},templates:e.templates}).on("typeahead:selected",function(t,e){window.location=e.link}),this},i(".ucf-post-search-form").each(function(){var t=i(this),e=t.find(".typeahead").first(),a=i('.post-list-search-settings[data-list-id="'+t.data("id")+'"]').first(),t={};a&&(t=JSON.parse(a.html())),e&&e.UCFPostListSearch(t)})}(jQuery);